{% extends 'dashboard/layout.html' %}
{% load static %}

{% block content %}
  <div class="edit-salary-container">
    <div class="header-section">
      <h1>Edit Salary Record: {{ teacher.user.get_full_name }}</h1>
      <a href="{% url 'teachers:manage_salary' teacher.id %}" class="btn btn-secondary"><i class="bx bx-arrow-back"></i> Back to Salary Management</a>
    </div>

    <div class="form-section">
      <h2>Edit Salary Record</h2>
      <form method="post" enctype="multipart/form-data">
        {% csrf_token %}

        <div class="form-row">
          <div class="form-group">
            {{ form.amount.label_tag }}
            {{ form.amount }}
            {% if form.amount.errors %}
              <div class="error">{{ form.amount.errors }}</div>
            {% endif %}
          </div>
          <div class="form-group">
            {{ form.payment_date.label_tag }}
            {{ form.payment_date }}
            {% if form.payment_date.errors %}
              <div class="error">{{ form.payment_date.errors }}</div>
            {% endif %}
          </div>
        </div>

        <div class="form-group">
          {{ form.description.label_tag }}
          {{ form.description }}
          {% if form.description.errors %}
            <div class="error">{{ form.description.errors }}</div>
          {% endif %}
        </div>

        <div class="form-group">
          {{ form.attachment.label_tag }}
          {{ form.attachment }}
          {% if form.attachment.errors %}
            <div class="error">{{ form.attachment.errors }}</div>
          {% endif %}
          {% if salary.attachment %}
            <p>
              Current attachment: <a href="{{ salary.attachment.url }}" target="_blank">{{ salary.attachment.name }}</a>
            </p>
          {% endif %}
        </div>

        <button type="submit" class="btn btn-primary"><i class="bx bx-save"></i> Update Salary Record</button>
      </form>
    </div>
  </div>
{% endblock %}
